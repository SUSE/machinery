<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <link href="../../css/custom.css" rel="stylesheet">
  </head>
  <body id="manpage">
    <div id="back">
      <a href="../..">
        <img src="../../img/hand3.png" class="hand3"/>
        <div class="goback">Go back to the web site</div>
      </a>
    </div>
    <div class="mp">
      <div class="nav">
        <ul>
          
              
                  <li class="">
                      <a href="../">Welcome</a>
                  </li>
              

          
              
                  <li class="">
                      <a href="../machinery_main_general.1/">General Overview</a>
                  </li>
              

          
              
                  <li class="">
                      <a href="../machinery_main_scopes.1/">Scopes</a>
                  </li>
              

          
              
                  <li class="">
                      <a href="../machinery_main_usecases.1/">Use cases</a>
                  </li>
              

          
              
                  <li class="">
                      <a href="../machinery_main_security_implications.1/">Security Implications</a>
                  </li>
              

          
              
                  <li>Commands
                      <ul>
                      
                          <li class="">
                              <a href="../machinery-analyze.1/">Analyze</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-build.1/">Build</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-compare.1/">Compare</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-config.1/">Config</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-copy.1/">Copy</a>
                          </li>
                      
                          <li class="current">
                              <a href="./">Deploy</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-export-autoyast.1/">Export AutoYaST</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-export-kiwi.1/">Export Kiwi</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-export-html.1/">Export HTML</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-inspect.1/">Inspect</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-inspect-container.1/">Inspect Container</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-list.1/">List</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-man.1/">Man</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-move.1/">Move</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-remove.1/">Remove</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-serve.1/">Serve</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-show.1/">Show</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-upgrade-format.1/">Upgrade Format</a>
                          </li>
                      
                          <li class="">
                              <a href="../machinery-validate.1/">Validate</a>
                          </li>
                      
                      </ul>
                  </li>
              

          
        </ul>
      </div>
      <div class="content">
        <h1 id="deploy-deploy-image-to-openstack-cloud">deploy â€” Deploy Image to OpenStack Cloud</h1>
<h2 id="synopsis">Synopsis</h2>
<p><code>machinery deploy</code> NAME -c CONFIG_FILE | --cloud-config=CONFIG_FILE
   [-i IMAGE_DIR | --image-dir=IMAGE_DIR]
   [-n CLOUD_IMAGE_NAME | --cloud-image-name=CLOUD_IMAGE_NAME]
   [-s | --insecure ]</p>
<p><code>machinery</code> help [deploy]</p>
<h2 id="description">Description</h2>
<p>The <code>deploy</code> command builds and deploys an image to an OpenStack cloud.
This command is particularly useful for testing, debugging, or validation.</p>
<blockquote>
<h4 id="note-set-password-for-unattended-work">NOTE: Set Password for Unattended Work</h4>
<p>Machinery asks for a password when sourcing the configuration
file. This interrupts the work flow and the user has to enter
this password.
If you prefer to leave it uninterrupted and unattented, remove
the following line in your cloud configuration file (see the <code>-c</code> option):</p>
<p>read -s OS_PASSWORD_INPUT</p>
<p>and set the password in the <code>OS_PASSWORD</code> variable:</p>
<p>export OS_PASSWORD=YOUR_PASSWORD</p>
</blockquote>
<h2 id="arguments">Arguments</h2>
<ul>
<li><code>NAME</code> (required):
    Name of the system description.</li>
</ul>
<h2 id="options">Options</h2>
<ul>
<li>
<p><code>-c CONFIG_FILE</code>, <code>--cloud-config=CONFIG_FILE</code> (required):
    Path to file where the cloud config (openrc.sh) is located.
    The configuration file is sourced by Machinery.</p>
</li>
<li>
<p><code>-i IMAGE_DIR</code>, <code>--image-dir=IMAGE_DIR</code> (optional):
    Image file under specific path.</p>
</li>
<li>
<p><code>-n CLOUD_IMAGE_NAME</code>, <code>--cloud-image-name=CLOUD_IMAGE_NAME</code> (required):
    Name of the image in the cloud.</p>
</li>
<li>
<p><code>-s</code>, <code>--insecure</code> (optional):
    Allow to make "insecure" HTTPS requests, without checking the SSL
    certificate when uploading to the cloud.</p>
</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>The <code>deploy</code> command requires the packages <code>kiwi</code> for building the image
   and <code>python-glanceclient</code> for uploading the image to the cloud.</li>
</ul>
<h2 id="supported-architectures">Supported Architectures</h2>
<p>Machinery only supports deploying x86_64 images on x86_64 systems.</p>
<h2 id="examples">Examples</h2>
<ul>
<li>
<p>Build an image under the system description named <code>jeos</code>.
   Deploy it to the OpenStack cloud name <code>tux-cloud</code> by using the
   configuration file <code>openrc.sh</code> in directory <code>tux</code>:</p>
<p>$ <code>machinery</code> deploy jeos -n tux-cloud -c tux/openrc.sh</p>
</li>
</ul>
      </div>
    </div>
  </body>
</html>